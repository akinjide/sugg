<!DOCTYPE html>
<html lang="en" ng-app="Znote" ng-strict-di>
  <head>
    <title>Znote | Welcome</title>

    <!-- LUMX CSS LINK -->
    <link rel="stylesheet" type="text/css" href="libs/lumx/dist/lumx.css">

    <!-- GOOGLE FONTS: ROBOTO -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700">

    <link rel="stylesheet" type="text/css" href="styles/style.css">
  </head>
  <body ng-controller="mainController">
    <div class="znote_navcontainer">
      <nav class="bgc" ng-cloak>
        <div>
          <img src="images/logo-znote.png">
          <div class="znote-sidebar">
            <button class="btn btn--l btn--black btn--fab" lx-ripple>
              <i class="mdi mdi-refresh"></i>
            </button>
            <lx-dropdown position="right" from-top="true">
              <button class="btn btn--l btn--black btn--fab" lx-ripple lx-dropdown-toggle>
                  <i class="mdi mdi-menu"></i>
              </button>
              <lx-dropdown-menu>
              <ul>
                <li>
                  <a class="dropdown-link dropdown-link--is-large">
                    <i class="mdi mdi-eye"></i>
                    <span>Preview</span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-link dropdown-link--is-large">
                    <i class="mdi mdi-account-plus"></i>
                    <span>Search</span>
                  </a>
                </li>
                <li class="dropdown-divider"></li>
                <li>
                  <a class="dropdown-link dropdown-link--is-large">
                    <i class="mdi mdi-delete"></i>
                    <span>Clear All</span>
                  </a>
                </li>
              </ul>
            </lx-dropdown-menu>
            </lx-dropdown>
          </div>
        </div>
      </nav>
    </div>

    <div style="padding-top: 80px;">
      <a href="#" id="key">
        <div class="add-note">
          <p>
            Add Note
          </p>
        </div>
      </a>
    </div>

    <div class="footer">
      <p>Design by <a href="http://akinjidebankole.blogspot.com/">JideBhanks</a></p>
    </div>
    <!-- JQUERY, VELOCITY, MOMENT, ANGULAR JS AND LUMX -->
    <script type="text/javascript" src="libs/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="libs/velocity/velocity.js"></script>
    <script type="text/javascript" src="libs/moment/min/moment-with-locales.js"></script>
    <script type="text/javascript" src="libs/angular/angular.js"></script>
    <script type="text/javascript" src="libs/lumx/dist/lumx.js"></script>

    <!-- ANGULAR MAIN -->
    <script type="text/javascript" src="scripts/app.js"></script>

    <!-- CONTROLLERS -->
    <script type="text/javascript" src="scripts/controllers/main.controller.js"></script>

    <!-- DIRECTIVES -->
    <script type="text/javascript" src="scripts/directives/dragnote.directive.js"></script>

    <!-- FIRE BASE -->
    <script type="text/javascript" src="libs/firebase/firebase.js"></script>
    <!-- ANGULAR FIRE -->
    <script type="text/javascript" src="libs/angularfire/dist/angularfire.min.js"></script>

    <!-- -->
    <script type="text/javascript" src="libs/masonry/dist/masonry.pkgd.min.js"></script>

    <script type="text/javascript">
      $(document).ready(function(){
        $('.znote-notes-wrapper').masonry();
      })
    </script>
    
    <script type="text/javascript" src="libs/angular-bootstrap/ui-bootstrap.min.js"></script>
    <script type="text/javascript" src="scripts/common/script.js"></script>

    <script>
      var myDataRef = new Firebase('https://znote.firebaseio.com/');
      $('#key').click(function (e) {
        var text = $('#texts').val();
        var name = $('#names').val();
        myDataRef.push({ name: name, text: text });
        $('#texts').val('');
      });

      myDataRef.on('child_added', function(snapshot) {
        var message  = snapshot.val();
        displayChatMessage(message.name, message.text);
      });

      function displayChatMessage(name, text) {
        $('<div/>').text(text).prepend($('<em/>').text(name+': ')).appendTo($('#messagesDiv'));
        $('#messagesDiv')[0].scrollTop = $('#messagesDiv')[0].scrollHeight;
      };
    </script>
  </body>
</html>
